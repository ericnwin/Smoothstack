{% extends "layout.html" %}
{% block content %}
<div class="content-section">
 <div class="media clearfix">
  <img class="rounded-circle float-start account-img" src="{{ image_file }}">
  <div class="media-body">
   <h2 class="account-heading">{{ current_user.username }}</h2>
   <p class="text-secondary">{{ current_user.email }}</p>
  </div>
 </div>

 <form method="POST" action="" enctype="multipart/form-data">
  {{ form.hidden_tag() }}
 {% if current_user.is_authenticated and current_user.email == 'admin@test.com'%}
  <fieldset class="form-group" disabled>
   <legend class="border-bottom mb-4">Account Info</legend>
   <div class="form-group">
    {{ form.username.label(class="form-control-label") }}
    {% if form.username.errors %}
    {{ form.username(class="form-control form-control-lg is-invalid") }}
    <div class="invalid-feedback">
     {% for error in form.username.errors %}
     <span>{{ error }}</span>
     {% endfor %}
    </div>
    {% else %}
    {{ form.username(class="form-control form-control-lg") }}
    {% endif %}
   </div>
   <div class="form-group">
     {{ form.email.label(class="mt-3 form-control-label") }}
     {% if form.email.errors %}
      {{ form.email(class="form-control form-control-lg is-invalid") }}
      <div class="invalid-feedback">
      {% for error in form.email.errors %}
       <span>{{ error }}</span>
      {% endfor %}
      </div>
     {% else %}
     {{ form.email(class="form-control form-control-lg") }}
     {% endif %}
     </fieldset>
  {% else %}
  <fieldset class="form-group">
   <legend class="border-bottom mb-4">Account Info</legend>
   <div class="form-group">
    {{ form.username.label(class="form-control-label") }}
    {% if form.username.errors %}
    {{ form.username(class="form-control form-control-lg is-invalid") }}
    <div class="invalid-feedback">
     {% for error in form.username.errors %}
     <span>{{ error }}</span>
     {% endfor %}
    </div>
    {% else %}
    
    {{ form.username(class="form-control form-control-lg") }}
    
    {% endif %}
   </div>
   <div class="form-group">
     {{ form.email.label(class="mt-3 form-control-label") }}
     {% if form.email.errors %}
      {{ form.email(class="form-control form-control-lg is-invalid") }}
      <div class="invalid-feedback">
      {% for error in form.email.errors %}
       <span>{{ error }}</span>
      {% endfor %}
      </div>
     {% else %}
     {{ form.email(class="form-control form-control-lg") }}

    {% endif %}
  
   </div>
   <div class="form-group">
    {{ form.picture.label(class="mt-3 form-control-label") }}</br>
    {{ form.picture(class='form-control-file') }}
    {% if form.picture.errors %}
    {% for error in form.picture.errors %}
    <span class='text-danger'>{{ error }}</span></br>
    {% endfor %}
    {% endif %}
   </div>
   <div class="form-group">
    {{ form.submit(class="mt-3 btn btn-outline-info") }}
   </div>
  </fieldset>
  {% endif %}

 </form>
</div>



{% endblock content %}